<head>
<title>Plan 9 /sys/man/2/markdown</title>
<meta content="text/html; charset=utf-8" http-equiv=Content-Type>
</head>
<body bgcolor=#ffffff>
   <br>
<p><font size=+1><b>NAME     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    mkd_in, mkd_string, markdown, mkd_compile, mkd_css, mkd_generatecss,
    mkd_document, mkd_generatehtml, mkd_xhtmlpage, mkd_toc, mkd_generatetoc,
    mkd_cleanup, mkd_doc_title, mkd_doc_author, mkd_doc_date, mkd_line,
    mkd_generateline &ndash; convert Markdown text to HTML<br>
    
</table>
<p><font size=+1><b>SYNOPSIS     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    <tt><font size=+1>#include &lt;mkdio.h&gt;</font></tt>  <P>
    <tt><font size=+1>MMIOT* mkd_in(FILE *input)</font></tt>  <P>
    <tt><font size=+1>MMIOT* mkd_string(char *string, int size)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;markdown(MMIOT *doc, FILE *output, int flags)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_compile(MMIOT *document, int flags)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_css(MMIOT *document, char **doc)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_generatecss(MMIOT *document, FILE *output)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_document(MMIOT *document, char **doc)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_generatehtml(MMIOT *document, FILE *output)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_xhtmlpage(MMIOT *document, int flags, FILE *output)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_toc(MMIOT *document, char **doc)</font></tt>  <P>
    <tt><font size=+1>void &nbsp;&nbsp;&nbsp;mkd_generatetoc(MMIOT *document, FILE *output)</font></tt>  <P>
    <tt><font size=+1>void &nbsp;&nbsp;&nbsp;mkd_cleanup(MMIOT*);</font></tt>  <P>
    <tt><font size=+1>char* mkd_doc_title(MMIOT*)</font></tt>  <P>
    <tt><font size=+1>char* mkd_doc_author(MMIOT*)</font></tt>  <P>
    <tt><font size=+1>char* mkd_doc_date(MMIOT*)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_line(char *string, int size, char **doc, int flags)</font></tt>  <P>
    <tt><font size=+1>int &nbsp;&nbsp;&nbsp;&nbsp;mkd_generateline(char *string, int size, FILE *output, int
    flags)</font></tt>  <P>
    
</table>
<p><font size=+1><b>DESCRIPTION     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    These functions convert <a href="markdown.6.html"><i>Markdown</i>(6)</a> text into HTML markup.  <P>
    <i>Mkd_in</i> reads the text referenced by pointer to <tt><font size=+1>FILE</font></tt> <i>input</i> and
    returns a pointer to an <tt><font size=+1>MMIOT</font></tt> structure of the form expected by
    <i>markdown</i> and the other converters. <i>Mkd_string</i> accepts one <i>string</i>
    and returns a pointer to <tt><font size=+1>MMIOT</font></tt>.  <P>
    After such preparation, <i>markdown</i> converts <i>doc</i> and writes the result
    to <i>output</i>, while <i>mkd_compile</i> transforms <i>document</i> in&ndash;place.  <P>
    One or more of the following <i>flags</i> (combined with <tt><font size=+1>OR</font></tt>) control
    <i>markdown</i>'s processing of <i>doc</i>:<br>
    <tt><font size=+1>MKD_NOIMAGE&nbsp;&nbsp;&nbsp;</font></tt>Do not process <tt><font size=+1>![]</font></tt> and remove &lt;<tt><font size=+1>img&gt;</font></tt> tags from the output.<br>
    <tt><font size=+1>MKD_NOLINKS&nbsp;&nbsp;&nbsp;</font></tt>Do not process <tt><font size=+1>[]</font></tt> and remove &lt;<tt><font size=+1>a&gt;</font></tt> tags from the output.<br>
    <tt><font size=+1>MKD_NOPANTS&nbsp;&nbsp;&nbsp;</font></tt>Suppress Smartypants&ndash;style replacement of quotes, dashes,
    or ellipses.<br>
    <tt><font size=+1>MKD_STRICT&nbsp;&nbsp;&nbsp;&nbsp;</font></tt>Disable superscript and relaxed emphasis processing
    if configured; otherwise a no&ndash;op.<br>
    <tt><font size=+1>MKD_TAGTEXT&nbsp;&nbsp;&nbsp;</font></tt>Process as inside an HTML tag: no &lt;<tt><font size=+1>em&gt;</font></tt>, no &lt;<tt><font size=+1>bold&gt;</font></tt>, no HTML
    or <tt><font size=+1>[]</font></tt> expansion.<br>
    <tt><font size=+1>MKD_NO_EXT&nbsp;&nbsp;&nbsp;&nbsp;</font></tt>Don't process pseudo&ndash;protocols (in <a href="markdown.6.html"><i>markdown</i>(6)</a>).<br>
    <tt><font size=+1>MKD_CDATA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></tt>Generate code for XML <tt><font size=+1>![CDATA[...]]</font></tt> element.<br>
    <tt><font size=+1>MKD_NOHEADER</font></tt>Don't process Pandoc&ndash;style headers.<br>
    <tt><font size=+1>MKD_TABSTOP&nbsp;&nbsp;&nbsp;</font></tt>When reading documents, expand tabs to 4 spaces, overriding
    any compile&ndash;time configuration.<br>
    <tt><font size=+1>MKD_TOC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></tt>Label headings for use with the <i>mkd_generatetoc</i> and <i>mkd_toc</i>
    functions.<br>
    <tt><font size=+1>MKD_1_COMPAT</font></tt>MarkdownTest_1.0 compatibility. Trim trailing spaces
    from first line of code blocks and disable implicit reference
    links (in <a href="markdown.6.html"><i>markdown</i>(6)</a>).<br>
    <tt><font size=+1>MKD_AUTOLINK</font></tt>Greedy URL generation. When set, any URL is converted
    to a hyperlink, even those not encased in &lt;&gt;.<br>
    <tt><font size=+1>MKD_SAFELINK</font></tt>Don't make hyperlinks from <tt><font size=+1>[][]</font></tt> links that have unknown
    URL protocol types.<br>
    <tt><font size=+1>MKD_NOTABLES</font></tt>Do not process the syntax extension for tables (in
    <a href="markdown.6.html"><i>markdown</i>(6)</a>).<br>
    <tt><font size=+1>MKD_EMBED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></tt>All of <tt><font size=+1>MKD_NOLINKS</font></tt>, <tt><font size=+1>MKD_NOIMAGE</font></tt>, and <tt><font size=+1>MKD_TAGTEXT</font></tt>.  <P>
    This implementation supports Pandoc&ndash;style headers and inline CSS
    &lt;<tt><font size=+1>style&gt;</font></tt> blocks, but <i>markdown</i> does not access the data provided by
    these extensions. The following functions do, and allow other
    manipulations.  <P>
    Given a pointer to <tt><font size=+1>MMIOT</font></tt> prepared by <i>mkd_in</i> or <i>mkd_string</i>, <i>mkd_compile</i>
    compiles the <i>document</i> into &lt;<tt><font size=+1>style&gt;</font></tt>, Pandoc, and HTML sections. It
    accepts the <i>flags</i> described for <i>markdown</i>, above.  <P>
    Once compiled, the document particulars can be read and written:
     <P>
    <i>Mkd_css</i> allocates a string and populates it with any &lt;<tt><font size=+1>style&gt;</font></tt> sections
    from the document. <i>Mkd_generatecss</i> writes any &lt;<tt><font size=+1>style&gt;</font></tt> sections to
    <i>output</i>.  <P>
    <i>Mkd_document</i> points <i>doc</i> to the <tt><font size=+1>MMIOT</font></tt> <i>document</i>, returning <i>document</i>'s
    size.  <P>
    <i>Mkd_generatehtml</i> writes the rest of the <i>document</i> to the <i>output</i>.
     <P>
    <i>Mkd_doc_title</i>, <i>mkd_doc_author</i>, and <i>mkd_doc_date</i> read the contents
    of any Pandoc header.  <P>
    <i>Mkd_xhtmlpage</i> writes an XHTML page representation of the document.
    It accepts the <i>flags</i> described for <i>markdown</i>, above.  <P>
    <i>Mkd_toc malloc</i>s a buffer into which it writes an outline, in the
    form of a &lt;<tt><font size=+1>ul&gt;</font></tt> element populated with &lt;<tt><font size=+1>li&gt;</font></tt>s each containing a link
    to successive headings in the <i>document</i>. It returns the size of
    that string. <i>Mkd_generatetoc</i> is similar, but writes the outline
    to the <i>output</i> referenced by a pointer to <tt><font size=+1>FILE</font></tt>.  <P>
    <i>Mkd_cleanup</i> deletes a processed <tt><font size=+1>MMIOT</font></tt>.  <P>
    The last two functions convert a single line of markdown source,
    for example a page title or a signature. <i>Mkd_line</i> allocates a
    buffer into which it writes an HTML fragment representation of
    the <i>string</i>. <i>Mkd_generateline</i> writes the result to <i>output</i>.<br>
    
</table>
<p><font size=+1><b>SOURCE     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    <tt><font size=+1>/sys/src/cmd/discount<br>
    </font></tt>
</table>
<p><font size=+1><b>SEE ALSO    <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    <a href="markdown.1.html"><i>markdown</i>(1)</a>, <a href="markdown.6.html"><i>markdown</i>(6)<br></a>
    
</table>
<p><font size=+1><b>DIAGNOSTICS     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    The <i>mkd_in</i> and <i>mkd_string</i> functions return a pointer to <tt><font size=+1>MMIOT</font></tt>
    on success, null on failure. <i>Markdown</i>, <i>mkd_compile</i>, <i>mkd_style</i>,
    and <i>mkd_generatehtml</i> return <tt><font size=+1>0</font></tt> on success, &ndash;<tt><font size=+1>1</font></tt> otherwise.<br>
    
</table>
<p><font size=+1><b>BUGS     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    Error handling is minimal at best.  <P>
    The <tt><font size=+1>MMIOT</font></tt> created by <i>mkd_string</i> is deleted by the <i>markdown</i> function.
     <P>
    This is an APE library.<br>
    
</table>

<table border=0 cellpadding=0 cellspacing=0><tr height=20><td></table>
</body></html>
