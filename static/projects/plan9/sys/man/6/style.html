<head>
<title>Plan 9 /sys/man/6/style</title>
<meta content="text/html; charset=utf-8" http-equiv=Content-Type>
</head>
<body bgcolor=#ffffff>
<p><tt>
/* Local copy of http://plan9.bell-labs.com/magic/man2html/6/style */
</tt>
   <br>
<p><font size=+1><b>NAME     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    style &ndash; Plan 9 coding conventions for C<br>
    
</table>
<p><font size=+1><b>DESCRIPTION     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    Plan 9 C code has its own conventions. You would do well to follow
    them. Here are a few:<br>
    *don't use <tt><font size=+1>//</font></tt> comments; some old Plan 9 code does, but we're converting
    it as we touch it. We do sometimes use <tt><font size=+1>//</font></tt> to comment&ndash;out a few
    lines of code.<br>
    *avoid <tt><font size=+1>goto</font></tt>s.<br>
    *no tabs expanded to spaces.<br>
    *surround a binary operator (particular a low precedence one) with
    spaces; don't try to write the most compact code possible but
    rather the most readable.<br>
    *no white space before opening braces.<br>
    *no white space after the keywords <tt><font size=+1>if</font></tt>, <tt><font size=+1>for</font></tt>, <tt><font size=+1>while</font></tt>, etc.<br>
    *no braces around single&ndash;line blocks (e.g., <tt><font size=+1>if</font></tt>, <tt><font size=+1>for</font></tt>, and <tt><font size=+1>while</font></tt> bodies).<br>
    *integer&ndash;valued functions return &ndash;1 on error, 0 or positive on success.<br>
    *functions that return errors should set <i>errstr</i>(2).<br>
    *variable and function names are all lowercase, with no underscores.<br>
    *<tt><font size=+1>enum</font></tt> or <tt><font size=+1>#define</font></tt>d constants should be Uppercase (or UPPERCASE).<br>
    *<tt><font size=+1>struct</font></tt> tags are Uppercase, with matching <tt><font size=+1>typedef</font></tt>s.<br>
    *automatic variables (local variables inside a function) are never
    initialized at declaration.<br>
    *follow the standard idioms: use <tt><font size=+1>x &lt; 0</font></tt> not <tt><font size=+1>0 &gt; x</font></tt>, etc.<br>
    *don't write <tt><font size=+1>!strcmp</font></tt> (nor <tt><font size=+1>!memcmp</font></tt>, etc.); always explicitly compare
    the result of string comparison with zero using a relational operator.
     <P>
    Ultimately, the goal is to write code that fits in with the other
    code around it and the system as a whole. If the file you are
    editing already deviates from these guidelines, do what it does.
    After you edit a file, a reader should not be able to tell just
    from coding style which parts you worked on.
    <p><font size=+1><b>COMMENTS     <br></b></font>
    If your code is readable, you shouldn't need many comments. A
    line or two comment above a function explaining what it does is
    always welcome.  <P>
    Comment any code you find yourself wondering about for more than
    2 seconds, even if it's to say that you don't understand what's
    going on. Explain why.  <P>
    Don't use commenting as an excuse for writing confusing code.
    Rewrite the code to make it clear.<br>
    <p><font size=+1><b>EFFICIENCY     <br></b></font>
    Do the simple thing. Don't optimize unless you've measured the
    code and it is too slow. Fix the data structures and the algorithms
    instead of going for little 5% tunings.<br>
    
</table>
<p><font size=+1><b>SEE ALSO    <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    ``Notes on Programming in C'', Rob Pike,<br>
    <tt><font size=+1>
	<a href="http://www.literateprogramming.com/pikestyle.pdf">
		http://www.literateprogramming.com/pikestyle.pdf</a>
    </font></tt><br>
    <tt><font size=+1><a href="http://www.lysator.liu.se/c/pikestyle.html">
					http://www.lysator.liu.se/c/pikestyle.html</a>
    </font></tt>
</table>
<p><font size=+1><b>BUGS     <br></b></font>

<table border=0 cellpadding=0 cellspacing=0><tr height=2><td><tr><td width=20><td>

    Some programs use very different styles, for example, <i>rc</i>.  <P>
    Some programs and programmers diverge from the above rules due
    to habits formed long before these rules. Notably, some programs
    have a single space after a keyword and before an opening brace,
    and some initialize automatic variables at declaration.<br>
    
</table>

<table border=0 cellpadding=0 cellspacing=0><tr height=20><td></table>
<font size=-1><a href="http://www.lucent.com/copyright.html">
Copyright</A> &#169; 2008 Lucent Technologies.  All rights reserved.</font>
</body></html>
