# Joshix.com New Underneath (`jxnu`)

Work in progress. Move the same old content to new infrastructure.

Markdown source, config, and tools for the [joshix.com][jx] web site container image. This image [`acbuild begin`][acbuild-begin]s with the [caddybox web server ACI][caddybox], then adds HTML content generated by [Hugo][hugo].

##  Generate joshix.com app container image

### Builder

1. Usually: Sync master branch of jxnu on a machine with `git`, `hugo` and `acbuild`:  
`$ cd jxnu && git pull`
2. Optional: Sync `jxnu/themes/bootstrap` with its upstream:  
`$ cd themes/bootstrap && git pull`
3. Run `jxnu/acbuild-jxnu.bash` to `hugo` the site and `acbuild` the site container:  
`$ cd .. && ./acbuild-jxnu.bash`
4. Copy the resulting `jxnu-vN-caddy-vX.Y.Z-linux-amd64.aci` to server (see deployaci.bash)

### Server

5. Update the `jxnu-aci.service` systemd unit if the jxnu ACI version changed
6. `$ systemctl daemon-reload` if (1), above
7. `$ systemctl restart jxnu-aci`

## Legal

Methods, tools, and scripts are shared under the ASL or their own license. Text and images beneath `content/` and/or as published on joshix.com are Copyright (C) 2000-2016 Josh Wood, except where noted. All rights reserved.


[acbuild-begin]: https://github.com/appc/acbuild/blob/master/Documentation/subcommands/begin.md
[caddybox]: https://github.com/joshix/caddybox
[hugo]: https://gohugo.io/
[jx]: https://joshix.com/
[mknu-script]: mknu.bash
